package com.salveo.mysalveo.vendor;import android.Manifest;import android.annotation.SuppressLint;import android.app.Activity;import android.app.Dialog;import android.content.Context;import android.content.Intent;import android.content.IntentSender;import android.content.pm.PackageManager;import android.database.Cursor;import android.graphics.Bitmap;import android.location.Address;import android.location.Geocoder;import android.location.Location;import android.location.LocationManager;import android.net.Uri;import android.os.Build;import android.os.Bundle;import android.os.Handler;import android.provider.MediaStore;import android.provider.OpenableColumns;import android.util.Log;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.Toast;import androidx.annotation.NonNull;import androidx.annotation.Nullable;import androidx.appcompat.app.AlertDialog;import androidx.appcompat.app.AppCompatActivity;import androidx.cardview.widget.CardView;import androidx.core.app.ActivityCompat;import androidx.core.content.ContextCompat;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import com.google.android.gms.common.ConnectionResult;import com.google.android.gms.common.api.GoogleApiClient;import com.google.android.gms.common.api.PendingResult;import com.google.android.gms.common.api.Status;import com.google.android.gms.location.LocationListener;import com.google.android.gms.location.LocationRequest;import com.google.android.gms.location.LocationServices;import com.google.android.gms.location.LocationSettingsRequest;import com.google.android.gms.location.LocationSettingsResult;import com.google.android.gms.location.LocationSettingsStatusCodes;import com.google.android.gms.maps.GoogleMap;import com.google.android.gms.maps.OnMapReadyCallback;import com.google.android.gms.maps.SupportMapFragment;import com.google.gson.Gson;import com.salveo.mysalveo.R;import com.salveo.mysalveo.activity.LoginActivity;import com.salveo.mysalveo.adapter.AddGovtIdPdfAdapter;import com.salveo.mysalveo.adapter.AddPhotoIDPdfAdapter;import com.salveo.mysalveo.adapter.VendorAddCertPdfAdapter;import com.salveo.mysalveo.adapter.VendorAddServiceImageListAdapter;import com.salveo.mysalveo.api.APIClient;import com.salveo.mysalveo.api.RestApiInterface;import com.salveo.mysalveo.appUtils.FileUtil;import com.salveo.mysalveo.requestpojo.DocBusInfoUploadRequest;import com.salveo.mysalveo.requestpojo.VendorRegisterFormCreateRequest;import com.salveo.mysalveo.responsepojo.FileUploadResponse;import com.salveo.mysalveo.responsepojo.VendorRegisterFormCreateResponse;import com.salveo.mysalveo.service.GPSTracker;import com.salveo.mysalveo.sessionmanager.SessionManager;import com.salveo.mysalveo.utils.ConnectionDetector;import com.salveo.mysalveo.utils.RestUtils;import com.wang.avi.AVLoadingIndicatorView;import java.io.File;import java.io.FileOutputStream;import java.io.IOException;import java.io.OutputStream;import java.text.SimpleDateFormat;import java.util.ArrayList;import java.util.Date;import java.util.HashMap;import java.util.List;import java.util.Locale;import java.util.Objects;import butterknife.BindView;import butterknife.ButterKnife;import cn.pedant.SweetAlert.SweetAlertDialog;import es.dmoral.toasty.Toasty;import okhttp3.MediaType;import okhttp3.MultipartBody;import okhttp3.RequestBody;import retrofit2.Call;import retrofit2.Callback;import retrofit2.Response;public class VendorRegisterFormActivity extends AppCompatActivity implements View.OnClickListener,        OnMapReadyCallback, GoogleApiClient.ConnectionCallbacks,        GoogleApiClient.OnConnectionFailedListener, LocationListener {    private final String TAG = "VenderRegisterFormActivity";    @SuppressLint("NonConstantResourceId")    @BindView(R.id.edt_business_name)    EditText edt_business_name;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.edt_business_email)    EditText edt_business_email;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.edt_business)    EditText edt_business;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.edt_phone)    EditText edt_phone;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.edt_business_registration)    EditText edt_business_registration;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rl_upload_gallery_image)    RelativeLayout rl_upload_gallery_image;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rl_certificates)    RelativeLayout rl_certificates;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rl_govtid)    RelativeLayout rl_govtid;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rl_photoid)    RelativeLayout rl_photoid;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.btn_submit)    Button btn_submit;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rcylr_choosen_gallery_img)    RecyclerView rcylr_choosen_gallery_img;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rcylr_choosen_certificate_img)    RecyclerView recylerView_choosen_certificate_images;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rcylr_choosen_govtid_images)    RecyclerView recylerView_choosen_govtid_images;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.rcylr_choosen_photoid_img)    RecyclerView recylerView_choosen_photo_id_images;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.cdvw_certificate)    CardView material_cardview_certificate;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.img_back)    ImageView img_back;    @SuppressLint("NonConstantResourceId")    @BindView(R.id.avi_indicator)    AVLoadingIndicatorView avi_indicator;    String business_name;    ArrayList<FileUploadResponse> certificatePicResponse = new ArrayList<>();    private final List<DocBusInfoUploadRequest.GovtIdPicBean> govtIdPicBeans = new ArrayList<>();    private final List<DocBusInfoUploadRequest.PhotoIdPicBean> photoIdPicBeans = new ArrayList<>();    VendorAddServiceImageListAdapter vendorAddServiceImageListAdapter;    VendorAddCertPdfAdapter vendorAddCertPdfAdapter;    AddGovtIdPdfAdapter addGovtIdPdfAdapter;    AddPhotoIDPdfAdapter addPhotoIDPdfAdapter;    MultipartBody.Part filePart,certPart,govIdPart,photIDPart;    private static final int REQUEST_CLINIC_CAMERA_PERMISSION_CODE = 785 ;    private static final int REQUEST_READ_CLINIC_PDF_PERMISSION = 787 ;    private static final int REQUEST_READ_GOVT_ID_PDF_PERMISSION = 788;    private static final int REQUEST_READ_PHOTO_ID_PDF_PERMISSION = 789;    private static final int REQUEST_READ_CLINIC_PIC_PERMISSION = 786;    private static final int REQUEST_CERTIFICATE_CAMERA_PERMISSION_CODE = 790;    private static final int REQUEST_READ_CERTIFICATE_PIC_PERMISSION = 791;    private static final int REQUEST_GOVTID_CAMERA_PERMISSION_CODE = 792;    private static final int REQUEST_READ_GOVTID_PIC_PERMISSION = 793;    private static final int REQUEST_PHOTOID_CAMERA_PERMISSION_CODE = 794;    private static final int REQUEST_READ_PHOTOID_PIC_PERMISSION = 795;    private static final int SELECT_CLINIC_CAMERA = 1000 ;    private static final int SELECT_CLINIC_PICTURE = 1001 ;    private static final int SELECT_CERT_PDF = 1002;    private static final int SELECT_GOVTID_PDF = 1003;    private static final int SELECT_PHOTOID_PDF = 1004;    private static final int SELECT_CERTIFICATE_CAMERA = 1005;    private static final int SELECT_CERTIFICATE_PICTURE = 1006;    private static final int SELECT_GOVTID_CAMERA = 1007;    private static final int SELECT_GOVTID_PICTURE = 1008;    private static final int SELECT_PHOTOID_CAMERA = 1009;    private static final int SELECT_PHOTOID_PICTURE = 1010;    String user_id,currentDateandTime;    List<VendorRegisterFormCreateRequest.CertifiBean> bus_certif_list = new ArrayList<>();    List<VendorRegisterFormCreateRequest.BussinessGalleryBean> bus_service_gall_list = new ArrayList<>();    private String username;    private String useremail;    private String userphone;    private String govtIdPic;    private String photoIdPic;    Dialog alertDialog;    private GoogleApiClient googleApiClient;    Location mLastLocation;    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;    private SupportMapFragment mapFragment;    private double latitude;    private double longitude;    private static final int REQUEST_CHECK_SETTINGS_GPS = 0x1;    private String AddressLine;    @SuppressLint({"LongLogTag", "LogNotTimber"})    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_vendor_register_form);        ButterKnife.bind(this);        SessionManager session = new SessionManager(getApplicationContext());        HashMap<String, String> user = session.getProfileDetails();        username = user.get(SessionManager.KEY_FIRST_NAME);        user_id = user.get(SessionManager.KEY_ID);        useremail = user.get(SessionManager.KEY_EMAIL_ID);        userphone = user.get(SessionManager.KEY_MOBILE);        Log.w(TAG,"username : "+username+" user_id : "+user_id);        if(useremail != null){            edt_business_email.setText(useremail);        }        if(username != null){            edt_business.setText(username);        }        if(userphone != null){            edt_phone.setText(userphone);        }        avi_indicator.setVisibility(View.GONE);        if (mapFragment == null) {            mapFragment = SupportMapFragment.newInstance();            mapFragment.getMapAsync(this);        }        googleApiConnected();        LocationRequest locationRequest = LocationRequest.create();        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);        locationRequest.setInterval(1000); // 10 seconds        locationRequest.setFastestInterval(1000); // 5 seconds        btn_submit.setOnClickListener(this);        rl_upload_gallery_image.setOnClickListener(this);        rl_certificates.setOnClickListener(this);        rl_govtid.setOnClickListener(this);        rl_photoid.setOnClickListener(this);        img_back.setOnClickListener(this);        /* ************ Adding service gallery Images ************** */        rcylr_choosen_gallery_img.setHasFixedSize(true);        rcylr_choosen_gallery_img.setNestedScrollingEnabled(false);        LinearLayoutManager layoutManager2 = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);        rcylr_choosen_gallery_img.setLayoutManager(layoutManager2);        /* ************ Adding Certificate ************** */        recylerView_choosen_certificate_images.setHasFixedSize(true);        recylerView_choosen_certificate_images.setNestedScrollingEnabled(false);        LinearLayoutManager layoutManager3 = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);        recylerView_choosen_certificate_images.setLayoutManager(layoutManager3);        /* ************ Adding GovtID ************** */        recylerView_choosen_govtid_images.setHasFixedSize(true);        recylerView_choosen_govtid_images.setNestedScrollingEnabled(false);        LinearLayoutManager layoutManager4 = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);        recylerView_choosen_govtid_images.setLayoutManager(layoutManager4);        /* ************ Adding PhotoID ************** */        recylerView_choosen_photo_id_images.setHasFixedSize(true);        recylerView_choosen_photo_id_images.setNestedScrollingEnabled(false);        LinearLayoutManager layoutManager5 = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);        recylerView_choosen_photo_id_images.setLayoutManager(layoutManager5);        /* *************** Get Current Date and Time ************************ */        SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy hh:mm aa", Locale.getDefault());         currentDateandTime = sdf.format(new Date());    }    @SuppressLint("LongLogTag")    private void chooseServiceGalleryImage() {        Log.w(TAG,"bus_service_gall_list.size() : "+bus_service_gall_list.size()+" conditions : "+(bus_service_gall_list.size()>=3));        if(bus_service_gall_list.size()>=3){            Toasty.warning(getApplicationContext(), "Sorry you can't Add more than 3", Toast.LENGTH_SHORT).show();        }        else        {            final CharSequence[] items = {"Take Photo", "Choose from Library", "Cancel"};            //AlertDialog.Builder alert=new AlertDialog.Builder(this);            AlertDialog.Builder builder = new AlertDialog.Builder(VendorRegisterFormActivity.this);            builder.setTitle("Choose option");            builder.setItems(items, (dialog, item) -> {                if (items[item].equals("Take Photo"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(VendorRegisterFormActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CLINIC_CAMERA_PERMISSION_CODE);                    }                    else                    {                        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                        startActivityForResult(intent, SELECT_CLINIC_CAMERA);                    }                }                else if (items[item].equals("Choose from Library"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(VendorRegisterFormActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CLINIC_PIC_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("image/*");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_CLINIC_PICTURE);                    }                }                else if (items[item].equals("Cancel")) {                    dialog.dismiss();                }            });            builder.show();        }    }    @SuppressLint("LongLogTag")    private void uploadClinicImage() {        avi_indicator.show();        RestApiInterface apiInterface = APIClient.getImageClient().create(RestApiInterface.class);        //RestApiInterface ApiService = RetrofitClient.getApiService();        Call<FileUploadResponse> call = apiInterface.getImageStroeResponse(filePart);//        Call<ImageFileUploadResponse> call = apiInterface.getImageStroeResponse(getProfileImagePicMultipart());        Log.w(TAG,"url  :%s"+ call.request().url().toString());        call.enqueue(new Callback<FileUploadResponse>() {            @SuppressLint("LongLogTag")            @Override            public void onResponse(@NonNull Call<FileUploadResponse> call, @NonNull Response<FileUploadResponse> response) {                avi_indicator.smoothToHide();                Log.w(TAG,"Profpic"+ "--->" + new Gson().toJson(response.body()));                if (response.body() != null) {                    if (200 == response.body().getCode()) {                        VendorRegisterFormCreateRequest.BussinessGalleryBean busServiceGallBean = new VendorRegisterFormCreateRequest.BussinessGalleryBean();                        busServiceGallBean.setBussiness_gallery(response.body().getData());                        bus_service_gall_list.add(busServiceGallBean);                        vendorAddServiceImageListAdapter = new VendorAddServiceImageListAdapter(getApplicationContext(), bus_service_gall_list);                        rcylr_choosen_gallery_img.setAdapter(vendorAddServiceImageListAdapter);                    }                }            }            @SuppressLint("LongLogTag")            @Override            public void onFailure(@NonNull Call<FileUploadResponse> call, @NonNull Throwable t) {                // avi_indicator.smoothToHide();                Log.w(TAG,"ServerUrlImagePath"+ "On failure working"+ t.getMessage());                //Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }    private void chooseCertPdf() {        if(certificatePicResponse.size()>=1){            Toasty.warning(getApplicationContext(), "Sorry you can't Add more than 1", Toast.LENGTH_SHORT).show();        }        else {            final CharSequence[] items = {"Take Photo", "Pick from Galley", "Select File","Cancel"};            //AlertDialog.Builder alert=new AlertDialog.Builder(this);            AlertDialog.Builder builder = new AlertDialog.Builder(VendorRegisterFormActivity.this);            builder.setTitle("Choose option");            builder.setItems(items, (dialog, item) -> {                if (items[item].equals("Take Photo"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(VendorRegisterFormActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CERTIFICATE_CAMERA_PERMISSION_CODE);                    }                    else                    {                        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                        startActivityForResult(intent, SELECT_CERTIFICATE_CAMERA);                    }                }                else if (items[item].equals("Pick from Galley"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CERTIFICATE_PIC_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("image/*");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_CERTIFICATE_PICTURE);                    }                }                else if (items[item].equals("Select File")){                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M   && ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CLINIC_PDF_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("application/pdf");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_CERT_PDF);                    }                }                else if (items[item].equals("Cancel")) {                    dialog.dismiss();                }            });            builder.show();        }    }    @SuppressLint("LongLogTag")    private void uploadCertPdf() {        avi_indicator.show();        RestApiInterface apiInterface = APIClient.getImageClient().create(RestApiInterface.class);        //RestApiInterface ApiService = RetrofitClient.getApiService();        Call<FileUploadResponse> call = apiInterface.getImageStroeResponse(certPart);//        Call<ImageFileUploadResponse> call = apiInterface.getImageStroeResponse(getProfileImagePicMultipart());        Log.w(TAG,"url  :%s"+ call.request().url().toString());        call.enqueue(new Callback<FileUploadResponse>() {            @SuppressLint("LongLogTag")            @Override            public void onResponse(@NonNull Call<FileUploadResponse> call, @NonNull Response<FileUploadResponse> response) {                avi_indicator.smoothToHide();                Log.w(TAG,"PdfFileLink"+ "--->" + new Gson().toJson(response.body()));                if (response.body() != null) {                    if (200 == response.body().getCode()) {                        VendorRegisterFormCreateRequest.CertifiBean busCertifBean = new VendorRegisterFormCreateRequest.CertifiBean();                        busCertifBean.setCertifi(response.body().getData());                        bus_certif_list.add(busCertifBean);                        vendorAddCertPdfAdapter = new VendorAddCertPdfAdapter(getApplicationContext(), bus_certif_list);                        recylerView_choosen_certificate_images.setAdapter(vendorAddCertPdfAdapter);                    }                }            }            @SuppressLint("LongLogTag")            @Override            public void onFailure(@NonNull Call<FileUploadResponse> call, @NonNull Throwable t) {                // avi_indicator.smoothToHide();                Log.w(TAG,"ServerUrlImagePath"+ "On failure working"+ t.getMessage());                //Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }    private void chooseGovIDPdf() {        if(govtIdPicBeans.size()>=1){            Toasty.warning(getApplicationContext(), "Sorry you can't Add more than 1", Toast.LENGTH_SHORT).show();        }        else {            final CharSequence[] items = {"Take Photo", "Pick from Galley", "Select File","Cancel"};            //AlertDialog.Builder alert=new AlertDialog.Builder(this);            AlertDialog.Builder builder = new AlertDialog.Builder(VendorRegisterFormActivity.this);            builder.setTitle("Choose option");            builder.setItems(items, (dialog, item) -> {                if (items[item].equals("Take Photo"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(VendorRegisterFormActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_GOVTID_CAMERA_PERMISSION_CODE);                    }                    else                    {                        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                        startActivityForResult(intent, SELECT_GOVTID_CAMERA);                    }                }                else if (items[item].equals("Pick from Galley"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_GOVTID_PIC_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("image/*");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_GOVTID_PICTURE);                    }                }                else if (items[item].equals("Select File")){                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M   && ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_GOVT_ID_PDF_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("application/pdf");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_GOVTID_PDF);                    }                }                else if (items[item].equals("Cancel")) {                    dialog.dismiss();                }            });            builder.show();        }    }    @SuppressLint("LongLogTag")    private void uploadGovtIDPdf() {        avi_indicator.show();        RestApiInterface apiInterface = APIClient.getImageClient().create(RestApiInterface.class);        //RestApiInterface ApiService = RetrofitClient.getApiService();        Call<FileUploadResponse> call = apiInterface.getImageStroeResponse(govIdPart);//        Call<ImageFileUploadResponse> call = apiInterface.getImageStroeResponse(getProfileImagePicMultipart());        Log.w(TAG,"url  :%s"+ call.request().url().toString());        call.enqueue(new Callback<FileUploadResponse>() {            @SuppressLint("LogNotTimber")            @Override            public void onResponse(@NonNull Call<FileUploadResponse> call, @NonNull Response<FileUploadResponse> response) {                avi_indicator.smoothToHide();                Log.w(TAG,"PdfFileLink"+ "--->" + new Gson().toJson(response.body()));                if (response.body() != null) {                    if (200 == response.body().getCode()) {                        DocBusInfoUploadRequest.GovtIdPicBean govtIdPicBean = new DocBusInfoUploadRequest.GovtIdPicBean (response.body().getData());                        govtIdPicBeans.add(govtIdPicBean);                        addGovtIdPdfAdapter = new AddGovtIdPdfAdapter(getApplicationContext(), govtIdPicBeans);                        recylerView_choosen_govtid_images.setAdapter(addGovtIdPdfAdapter);                    }                }            }            @Override            public void onFailure(@NonNull Call<FileUploadResponse> call, @NonNull Throwable t) {                // avi_indicator.smoothToHide();                Log.w(TAG,"ServerUrlImagePath"+ "On failure working"+ t.getMessage());                //Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }    private void choosePhotoIDPdf() {        if(photoIdPicBeans.size()>=1){            Toasty.warning(getApplicationContext(), "Sorry you can't Add more than 1", Toast.LENGTH_SHORT).show();        }        else {            final CharSequence[] items = {"Take Photo", "Pick from Galley", "Select File","Cancel"};            //AlertDialog.Builder alert=new AlertDialog.Builder(this);            AlertDialog.Builder builder = new AlertDialog.Builder(VendorRegisterFormActivity.this);            builder.setTitle("Choose option");            builder.setItems(items, (dialog, item) -> {                if (items[item].equals("Take Photo"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(VendorRegisterFormActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_PHOTOID_CAMERA_PERMISSION_CODE);                    }                    else                    {                        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                        startActivityForResult(intent, SELECT_PHOTOID_CAMERA);                    }                }                else if (items[item].equals("Pick from Galley"))                {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_PHOTOID_PIC_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("image/*");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_PHOTOID_PICTURE);                    }                }                else if (items[item].equals("Select File")){                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M   && ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_PHOTO_ID_PDF_PERMISSION);                    }                    else{                        Intent intent = new Intent();                        intent.setType("application/pdf");                        intent.setAction(Intent.ACTION_GET_CONTENT);                        startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_PHOTOID_PDF);                    }                }                else if (items[item].equals("Cancel")) {                    dialog.dismiss();                }            });            builder.show();        }    }    @SuppressLint("LongLogTag")    private void uploadPhotoIDPdf() {        avi_indicator.show();        RestApiInterface apiInterface = APIClient.getImageClient().create(RestApiInterface.class);        //RestApiInterface ApiService = RetrofitClient.getApiService();        Call<FileUploadResponse> call = apiInterface.getImageStroeResponse(photIDPart);//        Call<ImageFileUploadResponse> call = apiInterface.getImageStroeResponse(getProfileImagePicMultipart());        Log.w(TAG,"url  :%s"+ call.request().url().toString());        call.enqueue(new Callback<FileUploadResponse>() {            @Override            public void onResponse(@NonNull Call<FileUploadResponse> call, @NonNull Response<FileUploadResponse> response) {                avi_indicator.smoothToHide();                Log.w(TAG,"PdfFileLink"+ "--->" + new Gson().toJson(response.body()));                if (response.body() != null) {                    if (200 == response.body().getCode()) {                        DocBusInfoUploadRequest.PhotoIdPicBean photoIdPicBean = new DocBusInfoUploadRequest.PhotoIdPicBean(response.body().getData());                        photoIdPicBeans.add(photoIdPicBean);                        addPhotoIDPdfAdapter = new AddPhotoIDPdfAdapter(getApplicationContext(), photoIdPicBeans);                        recylerView_choosen_photo_id_images.setAdapter(addPhotoIDPdfAdapter);                    }                }            }            @Override            public void onFailure(@NonNull Call<FileUploadResponse> call, @NonNull Throwable t) {                // avi_indicator.smoothToHide();                Log.w(TAG,"ServerUrlImagePath"+ "On failure working"+ t.getMessage());                //Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }    private void checkValidation() {            business_name = edt_business_name.getText().toString().trim();            boolean can_proceed = true;                if(business_name.isEmpty()){                    edt_business_name.setError("Please fill the business name");                    edt_business_name.requestFocus();                    can_proceed = false;                }else if(edt_business_email.getText().toString().isEmpty()){                    edt_business_email.setError("Please fill the business email");                    edt_business_email.requestFocus();                    can_proceed = false;                }else if(edt_business.getText().toString().isEmpty()){                    edt_business.setError("Please fill the business");                    edt_business.requestFocus();                    can_proceed = false;                }else if(edt_phone.getText().toString().isEmpty()){                    edt_phone.setError("Please fill the phone number");                    edt_phone.requestFocus();                    can_proceed = false;                }else if(edt_business_registration.getText().toString().isEmpty()){                    edt_business_registration.setError("Please fill the business registration details");                    edt_business_registration.requestFocus();                    can_proceed = false;                }                else if(bus_service_gall_list.size()<1){                    Toasty.warning(getApplicationContext(), "Please Choose minimum 1 Uplaod gallery image", Toast.LENGTH_SHORT).show();                    can_proceed = false;                }                else if(photoIdPicBeans.size()<1){                    Toasty.warning(getApplicationContext(), "Please Choose PhotoID File", Toast.LENGTH_SHORT).show();                    can_proceed = false;                }                else if(govtIdPicBeans.size()<1){                    Toasty.warning(getApplicationContext(), "Please Choose GovtID File", Toast.LENGTH_SHORT).show();                    can_proceed = false;                }                else if(bus_certif_list.size()<1){                    Toasty.warning(getApplicationContext(), "Please Choose Certificate File", Toast.LENGTH_SHORT).show();                    can_proceed = false;                }                if(can_proceed){                    if (new ConnectionDetector(getApplicationContext()).isNetworkAvailable(getApplicationContext())) {                        vendorRegisterFormCreateResponseCall();                    }                }    }    @Override    public void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        switch (requestCode) {            case REQUEST_CHECK_SETTINGS_GPS:                switch (resultCode) {                    case Activity.RESULT_OK:                        getMyLocation();                        break;                    case Activity.RESULT_CANCELED:                        getMyLocation();                        break;                }                break;        }        //	Toast.makeText(getActivity(),"kk",Toast.LENGTH_SHORT).show();        if(requestCode== SELECT_CLINIC_PICTURE || requestCode == SELECT_CLINIC_CAMERA)        {            if(requestCode == SELECT_CLINIC_CAMERA)            {                Bitmap photo = (Bitmap) Objects.requireNonNull(data.getExtras()).get("data");                File file = new File(getFilesDir(), "Petfolio1" + ".jpg");                OutputStream os;                try {                    os = new FileOutputStream(file);                    if (photo != null) {                        photo.compress(Bitmap.CompressFormat.JPEG, 100, os);                    }                    os.flush();                    os.close();                } catch (Exception e) {                    Log.e(getClass().getSimpleName(), "Error writing bitmap", e);                }                RequestBody requestFile = RequestBody.create(MediaType.parse("image*/"), file);                filePart = MultipartBody.Part.createFormData("sampleFile",  user_id+currentDateandTime+file.getName(), requestFile);                uploadClinicImage();            }            else{                try {                    if (resultCode == Activity.RESULT_OK)                    {                        Log.w("VALUEEEEEEE1111", " " + data);                        Uri selectedImageUri = data.getData();                        Log.w("selectedImageUri", " " + selectedImageUri);                        String filename = null;                        if (selectedImageUri != null) {                            filename = getFileName(selectedImageUri);                        }                        Log.w("filename", " " + filename);                        String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedImageUri);                        assert filePath != null;                        File file = new File(filePath); // initialize file here                        long length = file.length() / 1024; // Size in KB                        Log.w("filesize", " " + length);//                        if(length>200){////                            new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)//                                    .setTitleText("File Size")//                                    .setContentText("Plz choose file size less than 200 kb ")//                                    .setConfirmText("Ok")//                                    .show();//                        }////                        else{                            filePart = MultipartBody.Part.createFormData("sampleFile", user_id+currentDateandTime+file.getName(), RequestBody.create(MediaType.parse("image/*"), file));                            uploadClinicImage();                        //}                    }                } catch (Exception e) {                    Log.w("Exception", " " + e);                }            }        }        else if(requestCode == SELECT_CERTIFICATE_CAMERA)        {            Bitmap photo = (Bitmap) Objects.requireNonNull(data.getExtras()).get("data");            File file = new File(getFilesDir(), "Petfolio1" + ".jpg");            OutputStream os;            try {                os = new FileOutputStream(file);                if (photo != null) {                    photo.compress(Bitmap.CompressFormat.JPEG, 100, os);                }                os.flush();                os.close();            } catch (Exception e) {                Log.e(getClass().getSimpleName(), "Error writing bitmap", e);            }            RequestBody requestFile = RequestBody.create(MediaType.parse("image*/"), file);            certPart = MultipartBody.Part.createFormData("sampleFile",  user_id+currentDateandTime+file.getName(), requestFile);            uploadCertPdf();        }        else if(requestCode == SELECT_CERTIFICATE_PICTURE){            try {                if (resultCode == Activity.RESULT_OK) {                    Log.w("VALUEEEEEEE1111", " " + data);                    Uri selectedImageUri = data.getData();                    Log.w("selectedImageUri", " " + selectedImageUri);                    String filename = null;                    if (selectedImageUri != null) {                        filename = getFileName(selectedImageUri);                    }                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedImageUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);                    certPart = MultipartBody.Part.createFormData("sampleFile", user_id+currentDateandTime+file.getName(), RequestBody.create(MediaType.parse("image/*"), file));                    uploadCertPdf();                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }        else if(requestCode== SELECT_CERT_PDF){            try {                if (resultCode == Activity.RESULT_OK)                {                    Log.w("URI", " " + data);                    Uri selectedFileUri = data.getData();                    Log.w("selectedFileUri", " " + selectedFileUri);                    String filename = getFileName(selectedFileUri);                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedFileUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);//                    if(length>200){////                        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)//                                .setTitleText("File Size")//                                .setContentText("Plz choose file size less than 200 kb ")//                                .setConfirmText("Ok")//                                .show();//                    }////                    else{                    certPart = MultipartBody.Part.createFormData("sampleFile", user_id + currentDateandTime + file.getName(), RequestBody.create(MediaType.parse("pdf/*"), file));                    uploadCertPdf();//                    }                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }        else if(requestCode == SELECT_GOVTID_CAMERA)        {            Bitmap photo = (Bitmap) Objects.requireNonNull(data.getExtras()).get("data");            File file = new File(getFilesDir(), "Petfolio1" + ".jpg");            OutputStream os;            try {                os = new FileOutputStream(file);                if (photo != null) {                    photo.compress(Bitmap.CompressFormat.JPEG, 100, os);                }                os.flush();                os.close();            } catch (Exception e) {                Log.e(getClass().getSimpleName(), "Error writing bitmap", e);            }            RequestBody requestFile = RequestBody.create(MediaType.parse("image*/"), file);            govIdPart = MultipartBody.Part.createFormData("sampleFile",  user_id+currentDateandTime+file.getName(), requestFile);            uploadGovtIDPdf();        }        else if(requestCode == SELECT_GOVTID_PICTURE){            try {                if (resultCode == Activity.RESULT_OK) {                    Log.w("VALUEEEEEEE1111", " " + data);                    Uri selectedImageUri = data.getData();                    Log.w("selectedImageUri", " " + selectedImageUri);                    String filename = null;                    if (selectedImageUri != null) {                        filename = getFileName(selectedImageUri);                    }                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedImageUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);                    govIdPart = MultipartBody.Part.createFormData("sampleFile", user_id+currentDateandTime+file.getName(), RequestBody.create(MediaType.parse("image/*"), file));                    uploadGovtIDPdf();                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }        else if(requestCode== SELECT_GOVTID_PDF){            try {                if (resultCode == Activity.RESULT_OK)                {                    Log.w("URI", " " + data);                    Uri selectedFileUri = data.getData();                    Log.w("selectedFileUri", " " + selectedFileUri);                    String filename = getFileName(selectedFileUri);                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedFileUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);//                    if(length>200){////                        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)//                                .setTitleText("File Size")//                                .setContentText("Plz choose file size less than 200 kb ")//                                .setConfirmText("Ok")//                                .show();//                    }////                    else{                    govIdPart = MultipartBody.Part.createFormData("sampleFile", user_id + currentDateandTime + file.getName(), RequestBody.create(MediaType.parse("pdf/*"), file));                    uploadGovtIDPdf();                    //}                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }        else if(requestCode == SELECT_PHOTOID_CAMERA)        {            Bitmap photo = (Bitmap) Objects.requireNonNull(data.getExtras()).get("data");            File file = new File(getFilesDir(), "Petfolio1" + ".jpg");            OutputStream os;            try {                os = new FileOutputStream(file);                if (photo != null) {                    photo.compress(Bitmap.CompressFormat.JPEG, 100, os);                }                os.flush();                os.close();            } catch (Exception e) {                Log.e(getClass().getSimpleName(), "Error writing bitmap", e);            }            RequestBody requestFile = RequestBody.create(MediaType.parse("image*/"), file);            photIDPart = MultipartBody.Part.createFormData("sampleFile",  user_id+currentDateandTime+file.getName(), requestFile);            uploadPhotoIDPdf();        }        else if(requestCode == SELECT_PHOTOID_PICTURE){            try {                if (resultCode == Activity.RESULT_OK) {                    Log.w("VALUEEEEEEE1111", " " + data);                    Uri selectedImageUri = data.getData();                    Log.w("selectedImageUri", " " + selectedImageUri);                    String filename = null;                    if (selectedImageUri != null) {                        filename = getFileName(selectedImageUri);                    }                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedImageUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);                    photIDPart = MultipartBody.Part.createFormData("sampleFile", user_id+currentDateandTime+file.getName(), RequestBody.create(MediaType.parse("image/*"), file));                    uploadPhotoIDPdf();                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }        else if(requestCode== SELECT_PHOTOID_PDF){            try {                if (resultCode == Activity.RESULT_OK)                {                    Log.w("URI", " " + data);                    Uri selectedFileUri = data.getData();                    Log.w("selectedFileUri", " " + selectedFileUri);                    String filename = getFileName(selectedFileUri);                    Log.w("filename", " " + filename);                    String filePath = FileUtil.getPath(VendorRegisterFormActivity.this,selectedFileUri);                    assert filePath != null;                    File file = new File(filePath); // initialize file here                    long length = file.length() / 1024; // Size in KB                    Log.w("filesize", " " + length);//                    if(length>200){////                        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)//                                .setTitleText("File Size")//                                .setContentText("Plz choose file size less than 200 kb ")//                                .setConfirmText("Ok")//                                .show();//                    }////                    else{                    photIDPart = MultipartBody.Part.createFormData("sampleFile", user_id + currentDateandTime + file.getName(), RequestBody.create(MediaType.parse("pdf/*"), file));                    uploadPhotoIDPdf();                    //}                }            } catch (Exception e) {                Log.w("Exception", " " + e);            }        }    }    @Override    public void onBackPressed() {        super.onBackPressed();        startActivity(new Intent(VendorRegisterFormActivity.this, LoginActivity.class));        finish();    }    @SuppressLint("NonConstantResourceId")    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.btn_submit:                checkValidation();                break;            case R.id.img_back:                onBackPressed();                break;                case R.id.rl_upload_gallery_image:                    chooseServiceGalleryImage();                break;            case R.id.rl_certificates:                chooseCertPdf();                break;            case R.id.rl_govtid:                chooseGovIDPdf();                break;            case R.id.rl_photoid:                choosePhotoIDPdf();                break;        }    }    @Override    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {        if (requestCode == MY_PERMISSIONS_REQUEST_LOCATION) {            if (grantResults.length > 0                    && grantResults[0] == PackageManager.PERMISSION_GRANTED) {                if (ContextCompat.checkSelfPermission(getApplicationContext(),                        Manifest.permission.ACCESS_FINE_LOCATION)                        == PackageManager.PERMISSION_GRANTED) {                }            } else {                Toast.makeText(getApplicationContext(), "permission denied", Toast.LENGTH_LONG).show();            }        }        if (requestCode == REQUEST_READ_CLINIC_PIC_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("image/*");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_CLINIC_PICTURE);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Images from Gallery ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CLINIC_PIC_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_CLINIC_CAMERA_PERMISSION_CODE) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                //    intent.putExtra(MediaStore.EXTRA_SCREEN_ORIENTATION, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);                startActivityForResult(intent, SELECT_CLINIC_CAMERA);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Camera for taking picture")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CLINIC_CAMERA_PERMISSION_CODE);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_READ_CLINIC_PDF_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("application/pdf");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_CERT_PDF);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Pdf files ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CLINIC_PDF_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_READ_GOVT_ID_PDF_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("application/pdf");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_GOVTID_PDF);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Pdf Files ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_GOVT_ID_PDF_PERMISSION);                            }                        })                        .setCancelButton("Cancel", new SweetAlertDialog.OnSweetClickListener() {                            @Override                            public void onClick(SweetAlertDialog sDialog) {                                sDialog.dismissWithAnimation();                            }                        })                        .show();            }        }        else if (requestCode == REQUEST_READ_PHOTO_ID_PDF_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("application/pdf");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select PDF"), SELECT_PHOTOID_PDF);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Pdf files ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_PHOTO_ID_PDF_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == MY_PERMISSIONS_REQUEST_LOCATION) {            // If request is cancelled, the result arrays are empty.            if (grantResults.length > 0                    && grantResults[0] == PackageManager.PERMISSION_GRANTED) {                checkValidation();            }            else {                // permission denied                showWarning(MY_PERMISSIONS_REQUEST_LOCATION);            }        }        else if (requestCode == REQUEST_READ_CERTIFICATE_PIC_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("image/*");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_CERTIFICATE_PICTURE);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Images from Gallery ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_CERTIFICATE_PIC_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_CERTIFICATE_CAMERA_PERMISSION_CODE) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                //    intent.putExtra(MediaStore.EXTRA_SCREEN_ORIENTATION, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);                startActivityForResult(intent, SELECT_CERTIFICATE_CAMERA);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Camera for taking picture")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CERTIFICATE_CAMERA_PERMISSION_CODE);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_READ_GOVTID_PIC_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("image/*");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_GOVTID_PICTURE);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Images from Gallery ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_GOVTID_PIC_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_GOVTID_CAMERA_PERMISSION_CODE) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                //    intent.putExtra(MediaStore.EXTRA_SCREEN_ORIENTATION, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);                startActivityForResult(intent, SELECT_GOVTID_CAMERA);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Camera for taking picture")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_GOVTID_CAMERA_PERMISSION_CODE);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_READ_PHOTOID_PIC_PERMISSION) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent();                intent.setType("image/*");                intent.setAction(Intent.ACTION_GET_CONTENT);                startActivityForResult(Intent.createChooser(intent, "Select Picture"), SELECT_PHOTOID_PICTURE);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Permissions for choosing Images from Gallery ")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_READ_PHOTOID_PIC_PERMISSION);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }        else if (requestCode == REQUEST_PHOTOID_CAMERA_PERMISSION_CODE) {            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);                //    intent.putExtra(MediaStore.EXTRA_SCREEN_ORIENTATION, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);                startActivityForResult(intent, SELECT_PHOTOID_CAMERA);            } else {                new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                        .setTitleText("Permisson Required")                        .setContentText("Plz Allow Camera for taking picture")                        .setConfirmText("Ok")                        .setConfirmClickListener(sDialog -> {                            sDialog.dismissWithAnimation();                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {                                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_PHOTOID_CAMERA_PERMISSION_CODE);                            }                        })                        .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                        .show();            }        }    }    private void showWarning(int REQUEST_PERMISSION_CODE) {        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                .setTitleText("Sorry!!")                .setContentText("You Can't proceed further unless you allow permission")                .setConfirmText("Ok")                .setConfirmClickListener(sDialog -> {                    sDialog.dismissWithAnimation();                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M)                    {                        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION_CODE);                    }                })                .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                .show();    }    private void showWarningAddMoreService() {        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                .setTitleText("Add More Service!!")                .setContentText("Please enter the service name")                .setConfirmText("Ok")                .setConfirmClickListener(SweetAlertDialog::dismissWithAnimation)                .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                .show();    }    private void showWarningAddMoreSpecialzation() {        new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)                .setTitleText("Add More Specialzation!!")                .setContentText("Please enter the specialzation name")                .setConfirmText("Ok")                .setConfirmClickListener(SweetAlertDialog::dismissWithAnimation)                .setCancelButton("Cancel", SweetAlertDialog::dismissWithAnimation)                .show();    }    public String getFileName(Uri uri) {        String result = null;        if (Objects.requireNonNull(uri.getScheme()).equals("content")) {            try (Cursor cursor = getContentResolver().query(uri, null, null, null, null)) {                if (cursor != null && cursor.moveToFirst()) {                    result = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));                }            }        }        if (result == null) {            result = uri.getPath();            int cut = 0;            if (result != null) {                cut = result.lastIndexOf('/');            }            if (cut != -1) {                if (result != null) {                    result = result.substring(cut + 1);                }            }        }        return result;    }    @SuppressLint("LongLogTag")    private void vendorRegisterFormCreateResponseCall() {        avi_indicator.setVisibility(View.VISIBLE);        avi_indicator.smoothToShow();        RestApiInterface apiInterface = APIClient.getClient().create(RestApiInterface.class);        Call<VendorRegisterFormCreateResponse> call = apiInterface.vendorRegisterFormCreateResponseCall(RestUtils.getContentType(), vendorRegisterFormCreateRequest());        Log.w(TAG,"vendorRegisterFormCreateResponseCall url  :%s"+" "+ call.request().url().toString());        call.enqueue(new Callback<VendorRegisterFormCreateResponse>() {            @SuppressLint("LongLogTag")            @Override            public void onResponse(@NonNull Call<VendorRegisterFormCreateResponse> call, @NonNull Response<VendorRegisterFormCreateResponse> response) {                Log.w(TAG,"vendorRegisterFormCreateResponseCall"+ "--->" + new Gson().toJson(response.body()));                avi_indicator.smoothToHide();                if (response.body() != null) {                    if(response.body().getCode() == 200){                        startActivity(new Intent(VendorRegisterFormActivity.this, VendorDashboardActivity.class));                        finish();                    }                    else{                        showErrorLoading(response.body().getMessage());                    }                }            }            @SuppressLint("LongLogTag")            @Override            public void onFailure(@NonNull Call<VendorRegisterFormCreateResponse> call, @NonNull Throwable t) {                avi_indicator.smoothToHide();                Log.w(TAG,"VendorRegisterFormCreateResponse flr"+"--->" + t.getMessage());            }        });    }    @SuppressLint("LongLogTag")    private VendorRegisterFormCreateRequest vendorRegisterFormCreateRequest() {        /*         * user_id : 123123213         * user_name : Mohammed imthiyas         * user_email : mohammed@gmail.com         * bussiness_name : Mohammed         * bussiness_email : mohammed@gmail.com         * bussiness : Mohammed         * bussiness_phone : 9876543210         * business_reg : Resdf         * bussiness_gallery : [{"bussiness_gallery":""},{"bussiness_gallery":""}]         * photo_id_proof : ""         * govt_id_proof :""         * certifi : [{"certifi":""},{"certifi":""}]         * date_and_time : 23-10-2020 12:00 AM         * mobile_type : Admin         * profile_status : true         * profile_verification_status : Not Verified         * bussiness_loc : 12.0         * bussiness_lat : 80.0         * bussiness_long : Moolakadai         * delete_status : true         */        SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy hh:mm aa", Locale.getDefault());        String currentDateandTime = sdf.format(new Date());        VendorRegisterFormCreateRequest vendorRegisterFormCreateRequest = new VendorRegisterFormCreateRequest();        vendorRegisterFormCreateRequest.setUser_id(user_id);        vendorRegisterFormCreateRequest.setUser_name(username);        vendorRegisterFormCreateRequest.setUser_email(useremail);        vendorRegisterFormCreateRequest.setBussiness_name(edt_business_name.getText().toString());        vendorRegisterFormCreateRequest.setBussiness_email(edt_business_email.getText().toString());        vendorRegisterFormCreateRequest.setBussiness(edt_business.getText().toString());        vendorRegisterFormCreateRequest.setBussiness_phone(edt_phone.getText().toString());        vendorRegisterFormCreateRequest.setBusiness_reg(edt_business_registration.getText().toString());        vendorRegisterFormCreateRequest.setBussiness_gallery(bus_service_gall_list);        vendorRegisterFormCreateRequest.setPhoto_id_proof(photoIdPic);        vendorRegisterFormCreateRequest.setGovt_id_proof(govtIdPic);        vendorRegisterFormCreateRequest.setCertifi(bus_certif_list);        vendorRegisterFormCreateRequest.setDate_and_time(currentDateandTime);        vendorRegisterFormCreateRequest.setMobile_type("Android");        vendorRegisterFormCreateRequest.setProfile_status(true);        vendorRegisterFormCreateRequest.setProfile_verification_status("Not verified");        vendorRegisterFormCreateRequest.setBussiness_loc(AddressLine);        vendorRegisterFormCreateRequest.setBussiness_lat(latitude);        vendorRegisterFormCreateRequest.setBussiness_long(longitude);        Log.w(TAG,"vendorRegisterFormCreateRequest"+ "--->" + new Gson().toJson(vendorRegisterFormCreateRequest));        return vendorRegisterFormCreateRequest;    }    public void showErrorLoading(String errormesage){        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);        alertDialogBuilder.setMessage(errormesage);        alertDialogBuilder.setPositiveButton("ok",                (arg0, arg1) -> hideLoading());        AlertDialog alertDialog = alertDialogBuilder.create();        alertDialog.show();    }    public void hideLoading(){        try {            alertDialog.dismiss();        }catch (Exception ignored){        }    }    private void googleApiConnected() {        googleApiClient = new GoogleApiClient.Builder(Objects.requireNonNull(getApplicationContext())).                addConnectionCallbacks(this).                addOnConnectionFailedListener(this).                addApi(LocationServices.API).build();        googleApiClient.connect();    }    private void checkLocation() {        try {            LocationManager lm = (LocationManager) getApplicationContext().getSystemService(Context.LOCATION_SERVICE);            boolean gps_enabled = false;            boolean network_enabled = false;            try {                gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);            } catch (Exception ignored) {            }            try {                network_enabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);            } catch (Exception ignored) {            }            if (!gps_enabled && !network_enabled) {                if (!lm.isProviderEnabled(LocationManager.GPS_PROVIDER)) {                    getMyLocation();                }            } else {                getLatandLong();            }        } catch (Exception e) {            e.printStackTrace();        }    }    @SuppressLint("LongLogTag")    @Override    public void onLocationChanged(Location location) {        mLastLocation = location;        latitude = mLastLocation.getLatitude();        longitude = mLastLocation.getLongitude();        if(latitude != 0 && longitude != 0){            getAddress(latitude,longitude);        }        Log.w(TAG,"onLocationChanged : "+" latitude : "+latitude+ " longitude : "+longitude);    }    @Override    public void onConnected(@Nullable Bundle bundle) {        permissionChecking();    }    @Override    public void onConnectionSuspended(int i) {    }    @Override    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {    }    @SuppressLint("LongLogTag")    @Override    public void onMapReady(GoogleMap googleMap) {    }    private void permissionChecking() {        if (getApplicationContext() != null) {            if (Build.VERSION.SDK_INT >= 23 && (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) &&                    (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)) {                ActivityCompat.requestPermissions(Objects.requireNonNull(this), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 5);            } else {                checkLocation();            }        }    }    public void getMyLocation() {        if (googleApiClient != null) {            if (googleApiClient.isConnected()) {                if(getApplicationContext() != null){                    if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {                        // TODO: Consider calling                        //    ActivityCompat#requestPermissions                        // here to request the missing permissions, and then overriding                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,                        //                                          int[] grantResults)                        // to handle the case where the user grants the permission. See the documentation                        // for ActivityCompat#requestPermissions for more details.                        return;                    }                }                mLastLocation = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);                LocationRequest locationRequest = new LocationRequest();                locationRequest.setInterval(2000);                locationRequest.setFastestInterval(2000);                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);                LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest);                builder.setAlwaysShow(true);                LocationServices.FusedLocationApi.requestLocationUpdates(googleApiClient, locationRequest, this);                PendingResult<LocationSettingsResult> result = LocationServices.SettingsApi.checkLocationSettings(googleApiClient, builder.build());                result.setResultCallback(result1 -> {                    Status status = result1.getStatus();                    switch (status.getStatusCode()) {                        case LocationSettingsStatusCodes.SUCCESS:                            // All location settings are satisfied.                            // You can initialize location requests here.                            mLastLocation = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);                            Handler handler = new Handler();                            int delay = 1000; //milliseconds                            handler.postDelayed(new Runnable() {                                @SuppressLint("LongLogTag")                                public void run() {                                    //do something                                    Log.w(TAG, "getMyLocation-->");                                    //parkingListResponseCall(checkinhours,checkouthours,requestCheckinDate,requestCheckoutDate, selectedVehicleTypeId);                                }                            }, delay);                            break;                        case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:                            try {                                status.startResolutionForResult(this, REQUEST_CHECK_SETTINGS_GPS);                            } catch (IntentSender.SendIntentException e) {                                // Ignore the error.                            }                            break;                        case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:                            break;                    }                });            }        }    }    @SuppressLint("LongLogTag")    private void getLatandLong() {        try {            if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);            } else {                GPSTracker gps = new GPSTracker(getApplicationContext());                // Check if GPS enabled                if (gps.canGetLocation()) {                    latitude = gps.getLatitude();                    longitude = gps.getLongitude();                    Log.w(TAG, "getLatandLong--->" + "latitude" + " " + latitude + "longitude" + " " + longitude);                    if(latitude != 0 && longitude != 0){                        getAddress(latitude,longitude);                    }                }            }        } catch (Exception e) {            e.printStackTrace();        }    }    @SuppressLint({"LongLogTag", "LogNotTimber"})    private void getAddress(double latitude, double longitude) {        StringBuilder result = new StringBuilder();        try {            Geocoder geocoder = new Geocoder(this, Locale.getDefault());            List<Address> listAddresses = geocoder.getFromLocation(latitude, longitude, 1);            if (null != listAddresses && listAddresses.size() > 0) {                Address address = listAddresses.get(0);                result.append(address.getLocality()).append("\n");                result.append(address.getCountryName());                String state = listAddresses.get(0).getAdminArea();                String country = listAddresses.get(0).getCountryName();                String subLocality = listAddresses.get(0).getSubLocality();                String postalcode = listAddresses.get(0).getPostalCode();                AddressLine = listAddresses.get(0).getAddressLine(0);                String CityName = listAddresses.get(0).getLocality();                if(CityName != null){                    AddressLine = CityName+" "+listAddresses.get(0).getAddressLine(0);                }                // Thoroughfare seems to be the street name without numbers               String street = address.getThoroughfare();            }        } catch (IOException e) {            Log.e("tag", Objects.requireNonNull(e.getMessage()));        }        result.toString();    }}